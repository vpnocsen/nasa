{"version":3,"sources":["redux/actions.js","shared/indexDB.js","redux/reducer.js","shared/modal.jsx","shared/item.jsx","home/home.jsx","search/search.jsx","app.jsx","index.js"],"names":["ADD_NEW","LIKE_ITEM","REMOVED_ITEM","LOAD_ITEM","EDIT_ITEM","addNewItem","item","type","payload","getData","callback","req","window","indexedDB","open","onerror","e","console","log","onsuccess","target","result","transaction","objectStore","get","event","onupgradeneeded","createObjectStore","autoIncrement","saveData","data","put","initialAppState","items","Modal","props","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","titleChage","setState","title","value","descriptionChage","description","typeChage","sourceChage","source","previewChage","preview","handleSubmit","preventDefault","newObject","assign","state","mode","addItem","close","history","push","editItem","hide","react_default","a","createElement","id","className","onSubmit","onClick","onChange","React","Component","withRouter","connect","dispatch","VideoEl","controls","src","ImageEl","alt","FormattedDate","date","Date","Intl","DateTimeFormat","year","month","day","format","Item","addToList","like","likeItem","remove","key","removeItem","edit","isShownDialog","add","hideDialog","actions","isLiked","liked","item_ImageEl","item_VideoEl","location","createDate","shared_modal","Home","componentDidMount","length","reloadItems","Link","to","map","el","i","src_shared_item","toConsumableArray","ResultTitle","found","searchStr","Search","_React$Component","handleChange","searchKey","search","isLoading","fetch","then","res","json","collection","nasa_id","media_type","date_created","links","href","metadata","total_hits","error","isLoaded","inherits","createClass","placeholder","disabled","search_ResultTitle","App","Switch","Route","exact","path","component","__webpack_require__","d","__webpack_exports__","store","createStore","arguments","undefined","action","itemsAdd","_","itemsEdit","editingItem","find","itemsLike","likedItem","itemsRemove","index","findIndex","splice","ReactDOM","render","es","BrowserRouter","app","document","getElementById"],"mappings":"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","file":"static/js/main.422801fa.chunk.js","sourcesContent":["\r\nexport const ADD_NEW = 'ADD_NEW';\r\nexport const LIKE_ITEM = 'LIKE_ITEM';\r\nexport const REMOVED_ITEM = 'REMOVED_ITEM';\r\nexport const LOAD_ITEM = 'REFRESH_ITEM';\r\nexport const EDIT_ITEM = 'EDIT_ITEM';\r\n\r\nexport const editItem = item => {\r\n    return {\r\n        type: EDIT_ITEM,\r\n        payload: item\r\n    }\r\n}\r\nexport const addNewItem = item => {\r\n    return {\r\n        type: ADD_NEW,\r\n        payload: item\r\n    };\r\n}\r\n\r\nexport const likeItem = item => {\r\n    return {\r\n        type: LIKE_ITEM,\r\n        payload: item\r\n    };\r\n}\r\n\r\nexport const removeItem = key => {\r\n    return {\r\n        type: REMOVED_ITEM,\r\n        payload: key\r\n    };\r\n}\r\n\r\nexport const loadItems = list => {\r\n    return {\r\n        type: LOAD_ITEM,\r\n        payload: list\r\n    };\r\n}","\r\nconst dbName = \"nasa\";\r\nconst collection = \"items\";\r\nexport const getData = (callback) => {\r\n    const req = window.indexedDB.open(dbName, 1);\r\n    req.onerror = (e) => { console.log('Error') };\r\n    req.onsuccess = (e) => {\r\n        const db = e.target.result\r\n        const getReq = db.transaction(collection, \"readwrite\")\r\n            .objectStore(collection)\r\n            .get('list');\r\n        getReq.onsuccess = (event) => {\r\n            callback(event.target.result || []);\r\n        }\r\n    };\r\n    req.onupgradeneeded = (e) => {\r\n        const db = e.target.result\r\n        db.createObjectStore(collection, {\r\n            autoIncrement: false\r\n        });\r\n    }\r\n}\r\n\r\nexport const saveData = (data) => {\r\n    const req = window.indexedDB.open(dbName, 1);\r\n    req.onerror = (e) => { console.log('Error') };\r\n    req.onsuccess = (e) => {\r\n        const db = e.target.result\r\n        db.transaction(collection, \"readwrite\")\r\n            .objectStore(collection)\r\n            .put(data, 'list')\r\n    };\r\n    req.onupgradeneeded = (e) => {\r\n        const db = e.target.result\r\n        db.createObjectStore(collection, {\r\n            autoIncrement: false\r\n        });\r\n    }\r\n}","import { ADD_NEW, LIKE_ITEM, REMOVED_ITEM, LOAD_ITEM, EDIT_ITEM } from \"./actions\";\r\nimport * as  _ from 'lodash';\r\nimport { saveData } from '../shared/indexDB';\r\n\r\nconst initialAppState = [{\r\n    items: [],\r\n}];\r\n\r\nexport default function reducer(state = initialAppState, action) {\r\n    switch (action.type) {\r\n        case ADD_NEW:\r\n            const itemsAdd = _.cloneDeep(state.items);\r\n            itemsAdd.push(action.payload);\r\n            saveData(itemsAdd);\r\n            return { items: itemsAdd };\r\n        case EDIT_ITEM:\r\n            const itemsEdit = _.cloneDeep(state.items);\r\n            const editingItem = itemsEdit.find(i => i.id === action.payload.id);\r\n            Object.assign(editingItem, action.payload);\r\n            saveData(itemsEdit);\r\n            return { items: itemsEdit };\r\n        case LIKE_ITEM:\r\n            const itemsLike = _.cloneDeep(state.items);\r\n            const likedItem = itemsLike.find(i => i.id === action.payload.id);\r\n            likedItem.liked = !likedItem.liked;\r\n            saveData(itemsLike);\r\n            return { items: itemsLike };\r\n        case REMOVED_ITEM:\r\n            const itemsRemove = _.cloneDeep(state.items);\r\n            const index = itemsRemove.findIndex(i => i.id === action.payload);\r\n            itemsRemove.splice(index, 1);\r\n            saveData(itemsRemove);\r\n            return { items: itemsRemove };\r\n        case LOAD_ITEM:\r\n            return { items: action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport './modal.scss';\r\nimport { addNewItem, editItem } from '../redux/actions';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Modal extends React.Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n\r\n        this.state = {\r\n            title: this.props.item.title,\r\n            description: this.props.item.description,\r\n            type: this.props.item.type,\r\n            source: this.props.item.source,\r\n            preview: this.props.item.preview\r\n        }\r\n    }\r\n\r\n    titleChage = (event) => {\r\n        this.setState({\r\n            title: event.target.value\r\n        })\r\n    }\r\n    descriptionChage = (event) => {\r\n        this.setState({\r\n            description: event.target.value\r\n        })\r\n    }\r\n    typeChage = (event) => {\r\n        this.setState({\r\n            type: event.target.value\r\n        })\r\n    }\r\n    sourceChage = (event) => {\r\n        this.setState({\r\n            source: event.target.value\r\n        })\r\n    }\r\n    previewChage = (event) => {\r\n        this.setState({\r\n            preview: event.target.value\r\n        })\r\n    }\r\n    handleSubmit = (event) => {\r\n        debugger;\r\n        event.preventDefault();\r\n        const newObject = Object.assign(this.props.item, this.state);\r\n        if (this.props.mode === 'add') {\r\n            this.props.addItem(newObject);\r\n            this.close();\r\n            this.props.history.push('/');\r\n        } else {\r\n            this.props.editItem(newObject)\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        this.props.hide();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"dialog\">\r\n                <div className=\"container\">\r\n                    <form onSubmit={this.handleSubmit}>\r\n                        <div className=\"modal\">\r\n                            <div className=\"modal-header\">\r\n                                <span>\r\n                                    {\r\n                                        this.props.mode === 'edit' ?\r\n                                            'Edit'\r\n                                            : 'Add'\r\n                                    }\r\n                                </span>\r\n                                <i className=\"fa fa-times\" onClick={this.close}></i>\r\n                            </div>\r\n                            <div className=\"modal-body\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Title</label>\r\n                                    <input type=\"text\" value={this.state.title} onChange={this.titleChage} />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Description</label>\r\n                                    <textarea value={this.state.description} onChange={this.descriptionChage}></textarea>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Type</label>\r\n                                    <select value={this.state.type} onChange={this.typeChage} >\r\n                                        <option value=\"image\">Image</option>\r\n                                        <option value=\"video\">Video</option>\r\n                                        <option value=\"audio\">Audio</option>\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Link preview image url</label>\r\n                                    <input type=\"text\" value={this.state.preview} onChange={this.previewChage} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Link file image url</label>\r\n                                    <input type=\"text\" value={this.state.source} onChange={this.sourceChage} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"modal-footer\">\r\n                                {\r\n                                    this.props.mode === 'edit' ?\r\n                                        <input type=\"submit\" value=\"Save\" />\r\n                                        : <input type=\"submit\" value=\"Add to Collection\" />\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        addItem: item => dispatch(addNewItem(item)),\r\n        editItem: item => dispatch(editItem(item))\r\n    };\r\n}\r\n\r\nexport default withRouter(\r\n    connect(null, mapDispatchToProps)(Modal)\r\n)","import React from 'react';\r\nimport './item.scss';\r\nimport { addNewItem, likeItem, removeItem } from '../redux/actions';\r\nimport { connect } from \"react-redux\";\r\nimport Modal from './modal';\r\n\r\nconst VideoEl = (props) => {\r\n    return <video controls src={props.item.source}>\r\n    </video>\r\n}\r\nconst ImageEl = (props) => {\r\n    return <div className=\"image-item-container\">\r\n        <img src={props.item.preview} alt={props.item.title} />\r\n    </div>\r\n}\r\nconst FormattedDate = (props) => {\r\n    if (!props.date) {\r\n        return null;\r\n    }\r\n    const date = new Date(props.date);\r\n    return new Intl.DateTimeFormat('en-GB', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: '2-digit'\r\n    }).format(date)\r\n}\r\nconst IMAGE = 'image';\r\nclass Item extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShownDialog: false\r\n        }\r\n    }\r\n    addToList = () => {\r\n        this.props.addItem(this.props.item)\r\n    }\r\n    like = () => {\r\n        this.props.likeItem(this.props.item)\r\n    }\r\n    remove = () => {\r\n        const key = this.props.item.id;\r\n        this.props.removeItem(key);\r\n    }\r\n\r\n    edit = () => {\r\n        this.setState({\r\n            isShownDialog: true,\r\n            mode: 'edit'\r\n        })\r\n    }\r\n    add = () => {\r\n        this.setState({\r\n            isShownDialog: true,\r\n            mode: 'add'\r\n        })\r\n    }\r\n    hideDialog = () => {\r\n        this.setState({\r\n            isShownDialog: false\r\n        })\r\n    }\r\n    render() {\r\n        let actions = null;\r\n        if (this.props.type === 'search') {\r\n            actions = <div className=\"control\">\r\n                <button className=\"btn-add\" onClick={this.add}>\r\n                    <i className=\"fa fa-plus\"></i>\r\n                    <span>Add to NASA collection</span>\r\n                </button>\r\n            </div>\r\n        } else {\r\n            const isLiked = this.props.item.liked;\r\n            actions = <div className=\"control\">\r\n                <div className=\"control-item like\" onClick={this.like}>\r\n                    {\r\n                        !!isLiked ? <i className=\"fa fa-heart\"></i> :\r\n                            <i className=\"fa fa-heart-o\"></i>\r\n                    }\r\n                </div>\r\n                <div className=\"control-item\" onClick={this.remove}>\r\n                    <i className=\"fa fa-trash-o\"></i>\r\n                </div>\r\n                <div className=\"control-item\" onClick={this.edit}>\r\n                    <i className=\"fa fa-pencil\"></i>\r\n                </div>\r\n            </div>\r\n        }\r\n        return (\r\n            <div>\r\n                <div className=\"item\">\r\n                    <div>\r\n                        {\r\n                            this.props.item.type === IMAGE ?\r\n                                <ImageEl item={this.props.item} />\r\n                                : <VideoEl item={this.props.item} />\r\n                        }\r\n                    </div>\r\n                    <div className=\"time-section\">\r\n                        <span>{this.props.item.location}</span>\r\n                        <span className=\"ml-auto\">\r\n                            <FormattedDate date={this.props.item.createDate} />\r\n                        </span>\r\n                    </div>\r\n                    <h2 className=\"title\">{this.props.item.title}</h2>\r\n                    <div className=\"description\">\r\n                        {this.props.item.description}\r\n                    </div>\r\n                    {actions}\r\n                </div>\r\n                {\r\n                    this.state.isShownDialog ?\r\n                        <Modal item={this.props.item} mode={this.state.mode} hide={this.hideDialog} />\r\n                        : null\r\n                }\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        addItem: item => dispatch(addNewItem(item)),\r\n        likeItem: item => dispatch(likeItem(item)),\r\n        removeItem: key => dispatch(removeItem(key))\r\n    };\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Item);","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from 'react-router-dom';\r\nimport './home.scss';\r\nimport Item from '../shared/item';\r\nimport { getData } from '../shared/indexDB';\r\nimport { loadItems } from '../redux/actions';\r\n\r\nclass Home extends Component {\r\n    componentDidMount = () => {\r\n        if (!this.props.items || this.props.items.length === 0) {\r\n            getData((data) => {\r\n                console.log(data);\r\n                this.props.reloadItems(data);\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"home\">\r\n                <div className=\"home-header\">\r\n                    <h1 className=\"name\">NASA Collection</h1>\r\n                    <div className=\"add-link\">\r\n                        <Link to='/search'>\r\n                            <i className=\"fa fa-plus mr-5\"></i>Add new item</Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"collection\">\r\n                    <div className=\"collection-container\">\r\n                        {(!!this.props.items && this.props.items.length > 0) ? this.props.items.map((el, i) => {\r\n                            return <Item item={el} key={i} type=\"edit\" />;\r\n                        }) : null}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        reloadItems: data => dispatch(loadItems(data)),\r\n    };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { items: [...state.items] };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './search.scss';\r\nimport Item from '../shared/item';\r\n\r\nconst ResultTitle = (props) => {\r\n    return <h4 className=\"result-title\"><strong>{props.found}</strong> Results for searching <strong>{props.searchStr}</strong></h4>\r\n}\r\n\r\nexport class Search extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            searchStr: '',\r\n            isLoading: false,\r\n            found: null,\r\n            searchKey: '',\r\n            items: null\r\n        };\r\n    }\r\n\r\n    handleChange = (event) => {\r\n        this.setState({ searchKey: event.target.value });\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (this.state.searchKey) {\r\n            this.search(this.state.searchKey)\r\n        }\r\n    }\r\n\r\n    search = (searchKey) => {\r\n        if (!searchKey) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            isLoading: true,\r\n            items: null\r\n        })\r\n        // const url = \"https://images-api.nasa.gov/search?q=\" + searchStr + \"&media_type=video\";\r\n        const url = \"https://images-api.nasa.gov/search?q=\" + searchKey;\r\n        fetch(url)\r\n            .then(res => res.json())\r\n            .then(\r\n                (result) => {\r\n                    if (!!result && !!result.collection) {\r\n                        let items = [];\r\n                        if (result.collection.items) {\r\n                            items = result.collection.items.map(item => {\r\n                                const id = item.data[0].nasa_id;\r\n                                const type = item.data[0].media_type;\r\n                                const title = item.data[0].title;\r\n                                const description = item.data[0].description;\r\n                                const createDate = item.data[0].date_created;\r\n                                const location = item.data[0].location;\r\n                                let source;\r\n                                if (type === 'video') {\r\n                                    source = 'https://images-assets.nasa.gov/video/' + id + '/' + id + '~preview.mp4';\r\n                                } else if(type === 'image'){\r\n                                    source = 'https://images-assets.nasa.gov/image/' + id + '/' + id + '~orig.jpg';\r\n                                } else if(type === 'audio'){\r\n                                    source = 'https://images-assets.nasa.gov/audio/' + id + '/' + id + '~orig.mp3';\r\n                                }\r\n                                // audio type, there is no links\r\n                                let preview;\r\n                                if (!!item.links) {\r\n                                    preview = item.links[0].href;\r\n                                }\r\n                                return {\r\n                                    id, type, title, description, createDate, location, preview, source\r\n                                }\r\n                            })\r\n                        }\r\n                        this.setState({\r\n                            isLoading: false,\r\n                            items,\r\n                            found: result.collection.metadata.total_hits,\r\n                            searchStr: searchKey\r\n                        });\r\n                    }\r\n                },\r\n                (error) => {\r\n                    this.setState({\r\n                        isLoaded: false,\r\n                        items: [],\r\n                        found: null,\r\n                        searchStr: ''\r\n                    });\r\n                }\r\n            )\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"search-page\">\r\n                <div className=\"back-section\">\r\n                    <Link to='/'>\r\n                        <i className=\"fa fa-angle-left mr-5\"></i>\r\n                        <span>Back to Collection</span>\r\n                    </Link>\r\n                </div>\r\n                <h2 className=\"search-title\">Search from Nasa</h2>\r\n                <form className=\"search-form\" onSubmit={this.handleSubmit}>\r\n                    <input type=\"text\" placeholder=\"Type something...\" disabled={this.state.isLoading}\r\n                        className=\"form-control\" value={this.state.searchKey} onChange={this.handleChange}></input>\r\n                    <input type=\"submit\" value=\"Search\" disabled={this.state.isLoading} />\r\n                </form>\r\n                <div className=\"search-result\">\r\n                    {this.state.found !== null ? <ResultTitle found={this.state.found} searchStr={this.state.searchStr} /> : null}\r\n                    <div className=\"search-result-container\">\r\n                        {(!!this.state.items && this.state.items.length > 0) ? this.state.items.map((el, i) => {\r\n                            return <Item item={el} key={i} type=\"search\" />;\r\n                        }) : null}\r\n                        {\r\n                            this.state.isLoading ?\r\n                                <div className=\"overlay\">\r\n                                    <i className=\"fa fa-spin fa-spinner\"></i>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;\r\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './home/home';\nimport Search from './search/search';\n\nclass App extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route exact path='/' component={Home} />\n        <Route path='/search' component={Search} />\n      </Switch>\n    );\n  }\n}\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux'\n\nimport reducer from './redux/reducer';\nimport 'font-awesome/css/font-awesome.min.css';\nimport './index.scss';\nimport App from './app';\n\n\n// Create store\nexport const store = createStore(reducer, {items: []});\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}